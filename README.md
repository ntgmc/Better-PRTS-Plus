# Better-PRTS-Plus

[![Version](https://img.shields.io/badge/version-2.5-blue)]()
[![Tampermonkey](https://img.shields.io/badge/Tampermonkey-Supported-green)]()

专为 [PRTS Plus (zoot.plus)](https://zoot.plus) 设计的全方位体验增强脚本。整合了深度暗黑模式适配、智能干员持有筛选功能以及界面信息优化，旨在提供更舒适的视觉体验和更高效的作业查找效率。

## ✨ 主要功能

### 1. 极致视觉重构 (Visual Overhaul)
彻底重构作业卡片的视觉呈现，提供类似游戏内的沉浸体验。
*   **干员头像化**：将枯燥的文字标签（如“逻各斯 1”）自动转换为 **高清干员头像**，直观展示阵容。
*   **统一干员组**：将“[奶盾]”、“[先锋]”等干员组标签美化为统一的方块样式，与头像完美对齐。
*   **原生级交互**：鼠标悬停在头像或方块上时，支持显示干员姓名、技能等级或干员组详情（完美复刻官方风格气泡）。
*   **智能代号徽章**：自动提取关卡代号（如 `UR-7`）并生成统一的深色/亮色徽章，同时自动清洗标题中的重复文本。
*   **描述折叠淡化**：自动折叠和淡化冗长的作业描述文本，保持列表页面的整洁紧凑。

### 2. 界面与交互优化 (UI/UX Enhancements)
大幅净化页面布局，将屏幕空间还给作业内容。
*   **侧边栏净化**：
    *   **创作工具**：默认折叠，防止误触并节省空间。
    *   **站务公告**：简化为紧凑的条状按钮，点击即可调用原生弹窗查看详情。
*   **公告弹窗增强**：在查看公告详情时，自动为标题添加 **[更新]**、**[活动]**、**[维护]** 等彩色高亮标签，重点一目了然。
*   **链接净化**：将描述中的 Bilibili 链接自动转换为简洁的 **▶ 参考视频** 按钮，去除冗余标题文字。

### 3. 智能持有筛选 (Smart Inventory Filter)
基于您导入的干员数据，精准筛选可抄作业。
*   **完美持有**：一键筛选出您拥有所有核心干员的作业。
*   **助战模式**：允许缺失 1 名干员（默认借用助战）的作业。
*   **灵活视图**：支持 **“置灰”**（视觉降级）或 **“隐藏”**（完全不显示）两种模式处理缺人作业。
*   **缺口提示**：在卡片上直观标记缺失的干员数量或具体的助战需求。

### 4. 深度暗黑模式 (Deep Dark Mode)
基于罗德岛终端风格（Rhodes Island Theme）的全局暗黑适配。
*   **全局覆盖**：深度修复 Blueprint UI、Tailwind 样式及 Markdown 渲染，解决“黑底黑字”等原生缺陷。
*   **细节打磨**：重新设计了 Tooltip（气泡提示）、下拉菜单及输入框的配色，确保在夜间使用时视觉舒适且清晰。
*   **一键切换**：在顶部导航栏无缝集成切换按钮，随时在明亮/暗黑模式间切换。

## 🚀 安装方法

1.  安装浏览器扩展程序：[Tampermonkey](https://www.tampermonkey.net/) (Chrome/Edge/Firefox)。
2.  [**点击这里安装脚本**](https://github.com/ntgmc/Better-PRTS-Plus/raw/refs/heads/main/Better-PRTS-Plus.user.js)。
3.  刷新 zoot.plus 页面即可生效。

## 📖 使用指南

### 导入干员数据
要启用筛选功能，您需要先导入干员持有数据。
1.  进入作业搜索列表页。
2.  点击筛选栏上的 **“📂 导入干员”** 按钮。
3.  上传包含干员数据的 `.json` 文件。
    *   *数据格式参考：* `[{"name": "史尔特尔", "own": true}, ...]` (可以从MAA小工具-干员识别导出)。

### 筛选模式
*   **💎 完美阵容**：筛选出所有干员均持有的作业。
*   **🤝 允许助战**：允许缺失 1 名干员，系统会自动标记该干员为“需助战”。
*   **👁️/🚫 视图切换**：点击设置按钮可切换过滤模式，选择是将不符合条件的作业“变灰”还是直接“隐藏”。

### 切换配色
*   点击顶部导航栏右侧的 **月亮/太阳** 图标即可切换暗黑/明亮模式。脚本会自动记忆您的选择。

## 🔗 致谢与溯源

本项目是基于以下两个开源项目的合并与重构版本：

*   **筛选功能** 原型源自：[ntgmc/PRTS-Plus-Filter](https://github.com/ntgmc/PRTS-Plus-Filter)
*   **暗黑模式** 原型源自：[ntgmc/PRTS-Plus-Darkmode](https://github.com/ntgmc/PRTS-Plus-Darkmode)

## 📄 License

None
